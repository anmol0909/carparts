<div class="min-h-screen bg-gray-100 flex flex-col md:flex-row">
  <!-- Sidebar -->
  <%= render "shared/sidebar" %>

  <div class="flex-1 flex flex-col">
    <!-- Navbar -->
    <%= render "shared/navbar" %>

    <main class="p-4 md:p-6">
      <!-- Stats Cards -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6">
        <div class="bg-blue-400 p-4 md:p-6 rounded-lg shadow-md">
          <h3 class="text-xl md:text-3xl font-bold text-white"><%= @tracked_count %></h3>
          <h3 class="text-xl mt-3 md:text-xl font-bold text-white">Items Tracked</h3>
        </div>
        <div class="bg-green-400 p-4 md:p-6 rounded-lg shadow-md">
          <h3 class="text-xl md:text-3xl font-bold text-white"><%= @available_count %></h3>
          <h3 class="text-xl mt-3 md:text-xl font-bold text-white">Items Available</h3>
        </div>
        <div class="bg-orange-400 p-4 md:p-6 rounded-lg shadow-md">
          <h3 class="text-xl md:text-3xl font-bold text-white"><%= @unavailable_count %></h3>
          <h3 class="text-xl mt-3 md:text-xl font-bold text-white">Items Unavailable</h3>
        </div>
        <div class="bg-yellow-400 p-4 md:p-6 rounded-lg shadow-md">
          <h3 class="text-xl md:text-3xl font-bold text-white"><%= @expired_orders %></h3>
          <h3 class="text-xl mt-3 md:text-xl font-bold text-white">Expired Orders</h3>
        </div>
      </div>

      <!-- Table Section -->
      <div class="mt-6 md:mt-10 bg-white rounded-lg shadow-md p-4 md:p-6">
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6">
          
          <!-- Orders Table -->
          <div class="overflow-x-auto">
            <h4 class="text-md md:text-lg font-semibold text-gray-800 mb-4">
              Orders (<%= @orders.count %>)
            </h4>
            <table class="w-full border-collapse text-sm md:text-base">
              <thead>
                <tr class="bg-gray-100 text-left">
                  <th class="p-2 md:p-3">Description</th>
                  <th class="p-2 md:p-3">Qty</th>
                  <th class="p-2 md:p-3">Return By</th>
                  <th class="p-2 md:p-3">Borrowed By</th>
                  <th class="p-2 md:p-3">Actions</th>
                </tr>
              </thead>
              <tbody>
                <% @orders.each do |order| %>
                  <tr class="border-b">
                    <td class="p-2 md:p-3"><%= truncate(order.description, length: 20) %></td>
                    <td class="p-2 md:p-3"><%= order.quantity %></td>
                    <td class="p-2 md:p-3 text-red-600"><%= order.created_at.strftime("%Y-%m-%d") %></td>
                    <td class="p-2 md:p-3">Alex</td>
                    <td class="p-2 md:p-3 flex space-x-3">
                      <button class="text-blue-500 hover:text-blue-700">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="text-red-500 hover:text-red-700">
                        <i class="fas fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>

          <!-- Members Table -->
          <div class="overflow-x-auto">
            <h4 class="text-md md:text-lg font-semibold text-gray-800 mb-4">
              Members (<%= @members.count %>)
            </h4>
            <table class="w-full border-collapse text-sm md:text-base">
              <thead>
                <tr class="bg-gray-100 text-left">
                  <th class="p-2 md:p-3">Name</th>
                  <th class="p-2 md:p-3">Email</th>
                  <th class="p-2 md:p-3">Phone</th>
                  <th class="p-2 md:p-3">Actions</th>
                </tr>
              </thead>
              <tbody>
                <% @members.each do |member| %>
                  <tr class="border-b">
                    <td class="p-2 md:p-3"><%= member.name %></td>
                    <td class="p-2 md:p-3"><%= member.email %></td>
                    <td class="p-2 md:p-3"><%= member.phone_number %></td>
                    <td class="p-2 md:p-3 flex space-x-3">
                      <button class="text-blue-500 hover:text-blue-700">
                        <i class="fas fa-edit"></i>
                      </button>
                      <button class="text-red-500 hover:text-red-700">
                        <i class="fas fa-trash"></i>
                      </button>
                    </td>
                  </tr>
                <% end %>
              </tbody>
            </table>
          </div>

        </div>
      </div>

    </main>
  </div>
</div>
